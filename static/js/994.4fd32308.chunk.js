"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[994],{9994:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(3050),r=n(2791),s=n(8007),i=n(5705),o=n(1686),l=n.n(o),c=n(9434),m=n(7718);const d=e=>e.contacts.items,h=e=>e.filters;var u=n(1614),x=n(890),f=n(8633),p=n(8383),j=n(184);const Z=s.Ry().shape({name:s.Z_().trim().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d`Artagnan").required("Name is required"),phone:s.Z_().trim().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").required("Phone number is required")});const g=function(){const e=(0,c.I0)(),t=(0,c.v9)(d),n="An error occurred while adding the contact.";return(0,j.jsxs)(u.Z,{maxWidth:"xs",children:[(0,j.jsx)(x.Z,{variant:"h2",align:"center",gutterBottom:!0,sx:{marginTop:8},children:"Phonebook"}),(0,j.jsx)(i.J9,{initialValues:{name:"",phone:""},validationSchema:Z,onSubmit:async(a,r)=>{const{name:s,phone:i}=a,o=((e,n)=>!(!t||!Array.isArray(t))&&t.some((t=>t.name===e||t.number===n)))(s,i);if(o)alert("Contact with the same name or phone number already exists!");else try{const t=await e((0,m.uK)({name:s,number:i}));m.uK.fulfilled.match(t)?(r.resetForm(),l().Notify.success("Contact added successfully!")):l().Notify.failure(n)}catch(c){l().Notify.failure(n)}},children:(0,j.jsxs)(i.l0,{children:[(0,j.jsx)(i.gN,{as:f.Z,fullWidth:!0,id:"name",name:"name",label:"Name",variant:"outlined",margin:"normal",helperText:(0,j.jsx)(i.Bc,{name:"name"})}),(0,j.jsx)(i.gN,{as:f.Z,fullWidth:!0,id:"phone",name:"phone",label:"Phone",variant:"outlined",margin:"normal",helperText:(0,j.jsx)(i.Bc,{name:"phone"})}),(0,j.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",sx:{mt:2},children:"Add Contact"})]})})]})};var v=n(5527),y=n(1889),I=n(3366),b=n(7462),w=n(3733),A=n(4419),C=n(9480),N=n(6934),k=n(1402),F=n(5878),S=n(1217);function P(e){return(0,S.Z)("MuiListItemAvatar",e)}(0,F.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);const z=["className"],L=(0,N.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,b.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),M=r.forwardRef((function(e,t){const n=(0,k.Z)({props:e,name:"MuiListItemAvatar"}),{className:a}=n,s=(0,I.Z)(n,z),i=r.useContext(C.Z),o=(0,b.Z)({},n,{alignItems:i.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e,a={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,A.Z)(a,P,n)})(o);return(0,j.jsx)(L,(0,b.Z)({className:(0,w.Z)(l.root,a),ownerState:o,ref:t},s))}));var B=n(3044),T=n(697),W=n(7247);const _=e=>{let{id:t,name:n,phone:a}=e;const r=(0,c.I0)();return(0,j.jsxs)(v.Z,{elevation:3,sx:{display:"flex",alignItems:"center",justifyContent:"space-around",padding:"16px"},children:[(0,j.jsx)(M,{children:(0,j.jsx)(B.Z,{alt:"Avatar ".concat(n),src:"https://source.unsplash.com/random/50x50"})}),(0,j.jsxs)(T.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,j.jsx)(x.Z,{variant:"h4",children:n}),(0,j.jsx)(x.Z,{variant:"body1",sx:{color:"#555",marginLeft:"16px"},children:a})]}),(0,j.jsx)(p.Z,{variant:"outlined",startIcon:(0,j.jsx)(W.Z,{}),onClick:async()=>{try{await r((0,m.GK)(t)),l().Notify.success("Contact deleted successfully!")}catch(e){l().Notify.failure("An error occurred while deleting the contact.")}},children:"Delete"})]})};const q=function(){const e=(0,c.v9)(h),t=(0,c.v9)(d);if(!t||!Array.isArray(t)||0===t.length)return null;const n=t.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));return(0,j.jsx)(v.Z,{sx:{p:2},children:(0,j.jsx)(y.ZP,{container:!0,spacing:3,justifyContent:"space-between",sx:{maxWidth:600,margin:"0 auto"},children:n.map((e=>{let{id:t,name:n,number:a}=e;return(0,j.jsx)(y.ZP,{item:!0,xs:12,children:(0,j.jsx)(_,{id:t,name:n,phone:a})},t)}))})})};var R=n(4636),D=n(4925),K=n(8096);const V=function(){const e=(0,c.I0)(),t=(0,c.v9)(h);return(0,j.jsx)(T.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",mt:3,mb:5},children:(0,j.jsxs)(K.Z,{children:[(0,j.jsx)(x.Z,{variant:"h5",align:"center",gutterBottom:!0,children:"Filter contacts:"}),(0,j.jsx)(D.Z,{htmlFor:"filter"}),(0,j.jsx)(f.Z,{type:"text",placeholder:"Enter a name",id:"filter",name:"filter",value:t,onChange:t=>{e((0,R.Tv)(t.target.value.trim()))},sx:{width:"100%",marginTop:"16px",mt:1}})]})})};const E=function(){const e=(0,c.I0)();return(0,r.useEffect)((()=>{e((0,m.yF)())}),[e]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(a.B6,{children:[(0,j.jsx)(a.ql,{children:(0,j.jsx)("title",{children:"Phonebook"})}),(0,j.jsx)(g,{}),(0,j.jsx)(V,{}),(0,j.jsx)(q,{})]})})}},7247:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(5649)),s=n(184),i=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i}}]);
//# sourceMappingURL=994.4fd32308.chunk.js.map